var e=Object.defineProperty,l=Object.defineProperties,t=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,n=(l,t,o)=>t in l?e(l,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):l[t]=o;import{a4 as r,bs as c,ay as i,W as d,X as p,bu as u,dF as m,cB as f,bv as b,bD as y,bJ as h,by as k,bz as v,k as x,Q as g,bB as C,aG as j,U as B,b1 as w,A as T,C as _,aI as I,V as z,a1 as V,D as E,a2 as O,aF as D,ak as A,x as P,bF as U,c4 as S,ce as $,r as F,aH as K,b3 as q,I as M,aE as Q,f as R,bo as G,cp as H,aB as J,az as N,dw as W,c3 as X}from"./el-button.0a4ba32a.js";import{E as L}from"./el-input.b3ba137c.js";import{a as Y,E as Z}from"./el-select.dc7a2ac5.js";import"./el-scrollbar.3e84cd99.js";import"./el-popper.7e8f10c3.js";import{E as ee}from"./el-card.a45fa383.js";import"./el-popover.5fb0ff22.js";import{_ as le}from"./d-dialog.ed95f2b9.js";import{u as te,P as oe,q as ae,s as se}from"./main.858372aa.js";import{u as ne,E as re}from"./index.f364da82.js";import{u as ce}from"./deprecation.bfd0cf7f.js";import"./typescript.72bf8adc.js";import"./isEqual.6fce44d5.js";import"./_baseIsEqual.220044e7.js";import"./_Uint8Array.d6bc81f7.js";import"./index.b9023f44.js";import"./validator.053f84bf.js";import"./arrow-up.0ae35c9a.js";import"./el-dialog.4b8a03dc.js";import"./el-overlay.ebdea840.js";import"./index.8dc67c0c.js";import"./event.0bae16b8.js";import"./index.c956e740.js";const ie=r({name:"QuestionFilled"}),de={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},pe=[p("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm23.744 191.488c-52.096 0-92.928 14.784-123.2 44.352-30.976 29.568-45.76 70.4-45.76 122.496h80.256c0-29.568 5.632-52.8 17.6-68.992 13.376-19.712 35.2-28.864 66.176-28.864 23.936 0 42.944 6.336 56.32 19.712 12.672 13.376 19.712 31.68 19.712 54.912 0 17.6-6.336 34.496-19.008 49.984l-8.448 9.856c-45.76 40.832-73.216 70.4-82.368 89.408-9.856 19.008-14.08 42.24-14.08 68.992v9.856h80.96v-9.856c0-16.896 3.52-31.68 10.56-45.76 6.336-12.672 15.488-24.64 28.16-35.2 33.792-29.568 54.208-48.576 60.544-55.616 16.896-22.528 26.048-51.392 26.048-86.592 0-42.944-14.08-76.736-42.24-101.376-28.16-25.344-65.472-37.312-111.232-37.312zm-12.672 406.208a54.272 54.272 0 0 0-38.72 14.784 49.408 49.408 0 0 0-15.488 38.016c0 15.488 4.928 28.16 15.488 38.016A54.848 54.848 0 0 0 523.072 768c15.488 0 28.16-4.928 38.72-14.784a51.52 51.52 0 0 0 16.192-38.72 51.968 51.968 0 0 0-15.488-38.016 55.936 55.936 0 0 0-39.424-14.784z"},null,-1)];const ue=u({title:{type:String},confirmButtonText:{type:String},cancelButtonText:{type:String},confirmButtonType:{type:String,values:m,default:"primary"},cancelButtonType:{type:String,values:m,default:"text"},icon:{type:f,default:c(ie,[["render",function(e,l,t,o,a,s){return i(),d("svg",de,pe)}]])},iconColor:{type:String,default:"#f90"},hideIcon:{type:Boolean,default:!1},hideAfter:{type:Number,default:200},onConfirm:{type:b(Function)},onCancel:{type:b(Function)},teleported:ne.teleported,persistent:ne.persistent});const me=U(C(r({name:"ElPopconfirm",components:{ElButton:y,ElTooltip:re,ElIcon:h},props:ue,setup(e){const{compatTeleported:l}=ce("ElPopconfirm","appendToBody"),{t:t}=k(),o=v("popconfirm"),a=x(),s=()=>{var e,l;null==(l=null==(e=P(a))?void 0:e.onClose)||l.call(e)};return{finalConfirmButtonText:g((()=>e.confirmButtonText||t("el.popconfirm.confirmButtonText"))),finalCancelButtonText:g((()=>e.cancelButtonText||t("el.popconfirm.cancelButtonText"))),tooltipRef:a,ns:o,compatTeleported:l,confirm:l=>{var t;null==(t=e.onConfirm)||t.call(e,l),s()},cancel:l=>{var t;null==(t=e.onCancel)||t.call(e,l),s()}}}}),[["render",function(e,l,t,o,a,s){const n=j("el-icon"),r=j("el-button"),c=j("el-tooltip");return i(),B(c,A({ref:"tooltipRef"},e.$attrs,{trigger:"click",effect:"light","popper-class":`${e.ns.namespace.value}-popover`,teleported:e.compatTeleported,"fallback-placements":["bottom","top","right","left"],"hide-after":e.hideAfter,persistent:e.persistent}),{content:w((()=>[p("div",{class:T(e.ns.b())},[p("div",{class:T(e.ns.e("main"))},[!e.hideIcon&&e.icon?(i(),B(n,{key:0,class:T(e.ns.e("icon")),style:_({color:e.iconColor})},{default:w((()=>[(i(),B(I(e.icon)))])),_:1},8,["class","style"])):z("v-if",!0),V(" "+E(e.title),1)],2),p("div",{class:T(e.ns.e("action"))},[O(r,{size:"small",type:e.cancelButtonType,onClick:e.cancel},{default:w((()=>[V(E(e.finalCancelButtonText),1)])),_:1},8,["type","onClick"]),O(r,{size:"small",type:e.confirmButtonType,onClick:e.confirm},{default:w((()=>[V(E(e.finalConfirmButtonText),1)])),_:1},8,["type","onClick"])],2)],2)])),default:w((()=>[e.$slots.reference?D(e.$slots,"reference",{key:0}):z("v-if",!0)])),_:3},16,["popper-class","teleported","hide-after","persistent"])}],["__file","/home/runner/work/element-plus/element-plus/packages/components/popconfirm/src/popconfirm.vue"]]));const fe=e=>(J("data-v-55c0d9f5"),e=e(),N(),e),be={class:"bookmarks-content wfull hfull"},ye={class:"bookmarks-header bb d-row"},he=fe((()=>p("li",{class:"pl30 f16 ac d-col-8"},"书签管理",-1))),ke={class:"d-col-8",span:8},ve={class:"d-col-8",span:8},xe=fe((()=>p("div",{class:"d-inline f12 ml20 mr10"},"导入到",-1))),ge={class:"f12"},Ce={class:"d-layout hfull"},je={class:"d-layout-aside d-auto-y",style:{height:"calc(100% - 40px)",width:"160px"}},Be=["onClick"],we={key:0,class:"ac mt50"},Te=[V(" 书签管理只能在扩展模式下使用 "),fe((()=>p("p",{class:"mt10"},[V(" 进入官网选择适合自己浏览器的版本下载 "),p("a",{href:"https://itab.link",class:"book-item-a",target:"_blank"},"https://itab.link")],-1)))],_e={class:"body-item d-flex-y"},Ie=["src"],ze={key:0,class:"d-cell d-flex"},Ve=["href"],Ee={class:"d-elip"},Oe={class:"bookmarks-handle",style:{"min-width":"52px"}},De={name:"appBookmarks"};var Ae=S(Object.assign(De,{setup(e){const r=te(),c=$(),u=["#fff","#1890ff","#2ecc71","#33c5c5","#9b59b6","#f1c40f","#e67e22","#e74c3c"],m=F({activeIndex:0,keyword:"",isBetchImport:!1,booksData:[],booksChildren:[]}),f=x(),b=g((()=>!(chrome&&chrome.bookmarks)));let h=g({get:()=>r.menuActiveId||"",set(e){r.menuActiveId=e}});const k=g((()=>c.value.find((e=>e.id==r.menuActiveId))));let v=[];function C(e){e?(m.activeIndex=-1,chrome.bookmarks.search(e,(l=>{console.log(e),m.booksChildren=l||[]}))):(m.activeIndex=0,m.booksChildren=m.booksData[0].children||[])}function j(e){e.edit?chrome.bookmarks.update(e.id,{title:e.title,url:e.url},(l=>{e.edit=!1})):e.edit=!0}function _(e,r){let c=(i=((e,l)=>{for(var t in l||(l={}))a.call(l,t)&&n(e,t,l[t]);if(o)for(var t of o(l))s.call(l,t)&&n(e,t,l[t]);return e})({},r),l(i,t({children:[]})));var i;e.forEach(((e,l)=>{e.url?c.children.push(e):e.children&&_(e.children,e)})),c.children.length&&v.push(c)}return chrome&&chrome.bookmarks&&chrome.bookmarks.getTree((e=>{_(e,{}),m.booksData=v,m.booksData[0]&&(m.booksChildren=m.booksData[0].children||[])})),(e,l)=>{const t=K("lh");return i(),B(le,{height:"600px",destroyOnClose:!0},{default:w((()=>[p("div",be,[q((i(),d("ul",ye,[he,p("li",ke,[O(P(L),{style:{width:"200px"},placeholder:"搜索",onInput:C,size:"small",modelValue:P(m).keyword,"onUpdate:modelValue":l[0]||(l[0]=e=>P(m).keyword=e)},null,8,["modelValue"])]),p("li",ve,[xe,O(P(Z),{modelValue:P(h),"onUpdate:modelValue":l[1]||(l[1]=e=>R(h)?h.value=e:h=e),style:{width:"100px"},size:"small",placeholder:"group"},{default:w((()=>[(i(!0),d(M,null,Q(P(c),(e=>(i(),B(P(Y),{key:e.id,label:e.name,value:e.id},{default:w((()=>[p("span",ge,E(e.name),1)])),_:2},1032,["label","value"])))),128))])),_:1},8,["modelValue"])])])),[[t,40]]),p("div",Ce,[p("ul",je,[(i(!0),d(M,null,Q(P(m).booksData,((e,l)=>(i(),d("li",{onClick:t=>function(e,l){m.activeIndex=l,m.booksChildren=e.children||[]}(e,l),class:T([{active:P(m).activeIndex==l},"d-left-tabs-item"]),key:l},E(e.title),11,Be)))),128))]),p("ul",{ref_key:"refBody",ref:f,style:{height:"calc(100% - 40px)"},class:"d-layout-content bookmarks-body"},[P(b)?(i(),d("div",we,Te)):z("",!0),(i(!0),d(M,null,Q(P(m).booksChildren,((e,l)=>(i(),B(P(ee),{class:"body-card","body-style":{padding:"16px"},key:e.id},{default:w((()=>[p("div",_e,[p("img",{src:`chrome://favicon/size/32@2x/${e.url}`,class:"mr20"},null,8,Ie),e.edit?(i(),d("p",ze,[O(P(L),{src:`chrome://favicon/size/32@2x/${e.url}`,class:"d-cell",onKeyup:G((l=>j(e)),["enter"]),size:"small",placeholder:"标题",modelValue:e.title,"onUpdate:modelValue":l=>e.title=l},null,8,["src","onKeyup","modelValue","onUpdate:modelValue"]),O(P(L),{placeholder:"url",class:"d-cell ml5",onKeyup:G((l=>j(e)),["enter"]),size:"small",modelValue:e.url,"onUpdate:modelValue":l=>e.url=l},null,8,["onKeyup","modelValue","onUpdate:modelValue"])])):(i(),d("a",{key:1,href:e.url,target:"_blank",class:"d-flex-y d-hidden d-cell"},[p("span",Ee,E(e.title),1)],8,Ve)),p("p",Oe,[O(P(y),{type:"warning",onClick:l=>function(e){let l={backgroundColor:u[Math.floor(8*Math.random())],iconText:e.title.trim().substring(0,4),id:W(),name:e.title,src:"",type:"text",url:e.url};k.value.children.push(l),X.success(`添加【${l.name}】成功`)}(e),size:"small",icon:P(oe)},null,8,["onClick","icon"]),O(P(y),{onClick:l=>j(e),size:"small",type:"primary",icon:e.edit?P(H):P(ae)},null,8,["onClick","icon"]),O(P(me),{onConfirm:t=>function(e,l){chrome.bookmarks.remove(e.id,(()=>{m.booksChildren.splice(l,1)}))}(e,l),title:"确认删除?"},{reference:w((()=>[O(P(y),{size:"small",type:"danger",icon:P(se)},null,8,["icon"])])),_:2},1032,["onConfirm"])])])])),_:2},1024)))),128))],512)])])])),_:1})}}}),[["__scopeId","data-v-55c0d9f5"]]);export{Ae as default};
