import{bu as e,cB as a,bv as i,bC as t,cU as l,bH as s,bG as n,cP as c,dL as o,a4 as d,bJ as u,dR as r,cC as v,cE as h,Q as p,bz as f,cD as b,k as m,aY as y,cG as k,as as g,bB as C,al as w,dM as V,bS as I,aG as x,ay as S,W as T,X as B,A as _,bo as D,U as E,b1 as P,aI as N,V as G,D as K,I as U,a2 as j,C as z,bp as F,bF as L,c4 as q,ak as A,x as H,ci as J}from"./el-button.0a4ba32a.js";import{i as M}from"./validator.053f84bf.js";const Q=e({modelValue:{type:[Boolean,String,Number],default:!1},value:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},width:{type:Number,default:40},inlinePrompt:{type:Boolean,default:!1},activeIcon:{type:a,default:""},inactiveIcon:{type:a,default:""},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeColor:{type:String,default:""},inactiveColor:{type:String,default:""},borderColor:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},id:String,loading:{type:Boolean,default:!1},beforeChange:{type:i(Function)},size:{type:String,validator:M}}),R=d({name:"ElSwitch",components:{ElIcon:u,Loading:r},props:Q,emits:{[t]:e=>l(e)||s(e)||n(e),[c]:e=>l(e)||s(e)||n(e),[o]:e=>l(e)||s(e)||n(e)},setup(e,{emit:a}){const{formItem:i}=v(),s=h(p((()=>e.loading))),n=f("switch"),d=b(),u=m(!1!==e.modelValue),r=m(),C=m(),x=p((()=>[n.b(),n.m(d.value),n.is("disabled",s.value),n.is("checked",T.value)]));y((()=>e.modelValue),(()=>{u.value=!0})),y((()=>e.value),(()=>{u.value=!1}));const S=p((()=>u.value?e.modelValue:e.value)),T=p((()=>S.value===e.activeValue));[e.activeValue,e.inactiveValue].includes(S.value)||(a(t,e.inactiveValue),a(c,e.inactiveValue),a(o,e.inactiveValue)),y(T,(()=>{var a;r.value.checked=T.value,(e.activeColor||e.inactiveColor)&&_(),e.validateEvent&&(null==(a=null==i?void 0:i.validate)||a.call(i,"change").catch((e=>k())))}));const B=()=>{const i=T.value?e.inactiveValue:e.activeValue;a(t,i),a(c,i),a(o,i),w((()=>{r.value.checked=T.value}))},_=()=>{const a=T.value?e.activeColor:e.inactiveColor,i=C.value;e.borderColor?i.style.borderColor=e.borderColor:e.borderColor||(i.style.borderColor=a),i.style.backgroundColor=a,i.children[0].style.color=a};return g((()=>{(e.activeColor||e.inactiveColor||e.borderColor)&&_(),r.value.checked=T.value})),{ns:n,input:r,core:C,switchDisabled:s,checked:T,switchKls:x,handleChange:B,switchValue:()=>{if(s.value)return;const{beforeChange:a}=e;if(!a)return void B();const i=a();[V(i),l(i)].some((e=>e))||I("ElSwitch","beforeChange must return type `Promise<boolean>` or `boolean`"),V(i)?i.then((e=>{e&&B()})).catch((e=>{})):i&&B()},focus:()=>{var e,a;null==(a=null==(e=r.value)?void 0:e.focus)||a.call(e)}}}}),W=["aria-checked","aria-disabled"],X=["id","name","true-value","false-value","disabled"],Y=["aria-hidden"],$=["aria-hidden"],O=["aria-hidden"],Z=["aria-hidden"];const ee=L(C(R,[["render",function(e,a,i,t,l,s){const n=x("el-icon"),c=x("loading");return S(),T("div",{class:_(e.switchKls),role:"switch","aria-checked":e.checked,"aria-disabled":e.switchDisabled,onClick:a[2]||(a[2]=F(((...a)=>e.switchValue&&e.switchValue(...a)),["prevent"]))},[B("input",{id:e.id,ref:"input",class:_(e.ns.e("input")),type:"checkbox",name:e.name,"true-value":e.activeValue,"false-value":e.inactiveValue,disabled:e.switchDisabled,onChange:a[0]||(a[0]=(...a)=>e.handleChange&&e.handleChange(...a)),onKeydown:a[1]||(a[1]=D(((...a)=>e.switchValue&&e.switchValue(...a)),["enter"]))},null,42,X),e.inlinePrompt||!e.inactiveIcon&&!e.inactiveText?G("v-if",!0):(S(),T("span",{key:0,class:_([e.ns.e("label"),e.ns.em("label","left"),e.ns.is("active",!e.checked)])},[e.inactiveIcon?(S(),E(n,{key:0},{default:P((()=>[(S(),E(N(e.inactiveIcon)))])),_:1})):G("v-if",!0),!e.inactiveIcon&&e.inactiveText?(S(),T("span",{key:1,"aria-hidden":e.checked},K(e.inactiveText),9,Y)):G("v-if",!0)],2)),B("span",{ref:"core",class:_(e.ns.e("core")),style:z({width:(e.width||40)+"px"})},[e.inlinePrompt?(S(),T("div",{key:0,class:_(e.ns.e("inner"))},[e.activeIcon||e.inactiveIcon?(S(),T(U,{key:0},[e.activeIcon?(S(),E(n,{key:0,class:_([e.ns.is("icon"),e.checked?e.ns.is("show"):e.ns.is("hide")])},{default:P((()=>[(S(),E(N(e.activeIcon)))])),_:1},8,["class"])):G("v-if",!0),e.inactiveIcon?(S(),E(n,{key:1,class:_([e.ns.is("icon"),e.checked?e.ns.is("hide"):e.ns.is("show")])},{default:P((()=>[(S(),E(N(e.inactiveIcon)))])),_:1},8,["class"])):G("v-if",!0)],64)):e.activeText||e.inactiveIcon?(S(),T(U,{key:1},[e.activeText?(S(),T("span",{key:0,class:_([e.ns.is("text"),e.checked?e.ns.is("show"):e.ns.is("hide")]),"aria-hidden":!e.checked},K(e.activeText.substring(0,3)),11,$)):G("v-if",!0),e.inactiveText?(S(),T("span",{key:1,class:_([e.ns.is("text"),e.checked?e.ns.is("hide"):e.ns.is("show")]),"aria-hidden":e.checked},K(e.inactiveText.substring(0,3)),11,O)):G("v-if",!0)],64)):G("v-if",!0)],2)):G("v-if",!0),B("div",{class:_(e.ns.e("action"))},[e.loading?(S(),E(n,{key:0,class:_(e.ns.is("loading"))},{default:P((()=>[j(c)])),_:1},8,["class"])):G("v-if",!0)],2)],6),e.inlinePrompt||!e.activeIcon&&!e.activeText?G("v-if",!0):(S(),T("span",{key:1,class:_([e.ns.e("label"),e.ns.em("label","right"),e.ns.is("active",e.checked)])},[e.activeIcon?(S(),E(n,{key:0},{default:P((()=>[(S(),E(N(e.activeIcon)))])),_:1})):G("v-if",!0),!e.activeIcon&&e.activeText?(S(),T("span",{key:1,"aria-hidden":!e.checked},K(e.activeText),9,Z)):G("v-if",!0)],2))],10,W)}],["__file","/home/runner/work/element-plus/element-plus/packages/components/switch/src/switch.vue"]]));const ae={class:"d-switch d-flex-between setting-li"};var ie=q({props:{modelValue:{required:!0,default:!1},async:{type:Boolean,default:!1},title:{type:String}},emits:["update:modelValue"],setup(e,{emit:a}){const i=e,t=e=>{a("update:modelValue",e),i.async&&J("baseConfig")};return(a,i)=>(S(),T("div",ae,[B("span",null,K(e.title),1),j(H(ee),A({"model-value":e.modelValue},a.$attrs,{"onUpdate:modelValue":t}),null,16,["model-value"])]))}},[["__scopeId","data-v-66662a60"]]);export{ie as D};
