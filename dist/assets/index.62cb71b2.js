import{c4 as a,r as e,k as t,aG as o,ay as s,U as l,b1 as n,X as r,D as c,x as d,W as i,aE as u,A as p,I as b,a2 as h,bo as v,bp as m,aB as f,az as y,al as g,cb as k}from"./el-button.0a4ba32a.js";import{E as x}from"./el-input.b3ba137c.js";import"./typescript.72bf8adc.js";const D=a=>(f("data-v-52561994"),a=a(),y(),a),j={class:"d-layout hfull"},w={class:"d-layout-aside robot-warp",width:"180px"},H={class:"robot-aside-body d-scrollbar-hide"},T=["onClick"],_={class:"d-layout-content hfull p10 app-robot-main"},C=D((()=>r("div",{class:"robot-header"},"header",-1))),R=D((()=>r("img",{class:"robot-chat-user",src:"https://files.codelife.cc/blog/avatar/default-avatar.png"},null,-1))),V=["innerHTML"],B={class:"robot-chat-input"},E={name:"appRobot"};var I=a(Object.assign(E,{setup(a){const f=e({title:"iRobot",loading:!1,records:[]}),y=t(null),D=e({sender:1,content:""});function E(a){var e;a.preventDefault(),e=D.content,k.getRobot({msg:e}).then((a=>{let e=a.data.content||"";e=e.replace("{br}","</br>"),f.records.push({sender:0,content:a.data.content}),g((()=>{I()}))})),D.ct=(new Date).getTime(),f.records.push(cloneDeep(D)),D.content="",g((()=>{I()}))}function I(){g((()=>{let a=y.value.scrollHeight;y.value.scrollTo({top:a,behavior:"smooth"})}))}return(a,e)=>{const t=o("d-dialog");return s(),l(t,{width:"770px",height:"500px"},{default:n((()=>[r("div",j,[r("aside",w,[r("h2",null,c(d(f).title),1),r("ul",H,[(s(!0),i(b,null,u(d(f).tabsData,(e=>(s(),i("li",{onClick:t=>a.tabHandle(e),class:p([{active:a.queryForm.source===e.source},"robot-aside-item d-elip"]),key:e.type},c(e.name),11,T)))),128))])]),r("div",_,[C,r("ul",{class:"robot-chat-body d-cell",ref_key:"refChatBody",ref:y},[(s(!0),i(b,null,u(d(f).records,(a=>(s(),i("li",{class:p(`sender-${a.sender}`),key:a},[R,r("div",null,[r("div",{class:"robot-chat-bubble",innerHTML:a.content},null,8,V)])],2)))),128))],512),r("div",B,[h(d(x),{type:"textarea",onKeyup:v(m(E,["prevent"]),["enter"]),modelValue:d(D).content,"onUpdate:modelValue":e[0]||(e[0]=a=>d(D).content=a),placeholder:"输入框"},null,8,["onKeyup","modelValue"])])])])])),_:1})}}}),[["__scopeId","data-v-52561994"]]);export{I as default};
