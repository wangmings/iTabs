var e=Object.defineProperty,a=Object.defineProperties,t=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,i=(a,t,l)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[t]=l,r=(e,a)=>{for(var t in a||(a={}))o.call(a,t)&&i(e,t,a[t]);if(l)for(var t of l(a))n.call(a,t)&&i(e,t,a[t]);return e},s=(e,l)=>a(e,t(l));import{u as d,C as c,F as m,G as u,H as p}from"./main.858372aa.js";import{d1 as f,a4 as b,by as v,bz as g,Q as h,k as y,af as k,bB as w,bx as S,cO as _,aG as j,ay as V,W as C,X as F,A as x,D as E,a2 as D,V as T,aA as O,ac as M,c3 as z,bD as R,r as A,v as P,c4 as U,b1 as H,I,aE as q,U as B,aI as W,a1 as G,C as L,bp as Y,aB as $,az as K}from"./el-button.0a4ba32a.js";import{E as Q}from"./el-input.b3ba137c.js";import"./el-scrollbar.3e84cd99.js";import"./el-popper.7e8f10c3.js";import{a as X,E as J}from"./el-form-item.785a6e2e.js";import{a as N,E as Z}from"./el-radio.cee63c3c.js";import{E as ee,a as ae}from"./el-checkbox-group.f5e56890.js";import{T as te,u as le,g as oe,c as ne,t as ie,a as re,D as se,C as de,E as ce}from"./el-date-picker.cb28eb4e.js";import{D as me}from"./d-icon-panel.9a8860fb.js";import{D as ue}from"./d-font-family.0ce7f1e5.js";import{_ as pe}from"./d-color.c1dcbbce.js";import{a as fe}from"./addToDesk.9743448a.js";import{b as be,a as ve}from"./_baseFlatten.da583d6c.js";import{s as ge,S as he,c as ye}from"./_baseIsEqual.220044e7.js";import{a as ke,q as we}from"./_Uint8Array.d6bc81f7.js";import{c as Se}from"./cloneDeep.436aab3d.js";import{_ as _e}from"./d-dialog.ed95f2b9.js";import"./typescript.72bf8adc.js";import"./_baseClone.a466ea06.js";import"./isEqual.6fce44d5.js";import"./validator.053f84bf.js";import"./index.a7f52680.js";import"./event.0bae16b8.js";import"./arrow-up.0ae35c9a.js";import"./arrow-down.766403d3.js";import"./index.b9023f44.js";import"./index.f364da82.js";import"./el-select.dc7a2ac5.js";import"./deprecation.bfd0cf7f.js";import"./index.c956e740.js";import"./identity.737b3aaf.js";import"./el-dialog.4b8a03dc.js";import"./el-overlay.ebdea840.js";import"./index.8dc67c0c.js";function je(e){return e!=e}function Ve(e,a){return!!(null==e?0:e.length)&&function(e,a,t){return a==a?function(e,a,t){for(var l=t-1,o=e.length;++l<o;)if(e[l]===a)return l;return-1}(e,a,t):function(e,a,t,l){for(var o=e.length,n=t+(l?1:-1);l?n--:++n<o;)if(a(e[n],n,e))return n;return-1}(e,je,t)}(e,a,0)>-1}function Ce(e){return f(e)&&ke(e)}function Fe(e,a,t){for(var l=-1,o=null==e?0:e.length;++l<o;)if(t(a,e[l]))return!0;return!1}var xe=we&&1/ge(new we([,-0]))[1]==1/0?function(e){return new we(e)}:function(){};var Ee=be((function(e){return function(e,a,t){var l=-1,o=Ve,n=e.length,i=!0,r=[],s=r;if(t)i=!1,o=Fe;else if(n>=200){var d=a?null:xe(e);if(d)return ge(d);i=!1,o=ye,s=new he}else s=a?[]:r;e:for(;++l<n;){var c=e[l],m=a?a(c):c;if(c=t||0!==c?c:0,i&&m==m){for(var u=s.length;u--;)if(s[u]===m)continue e;a&&s.push(m),r.push(c)}else o(s,m,t)||(s!==r&&s.push(m),r.push(c))}return r}(ve(e,1,Ce,!0))}));const De=(e,a)=>{const t=[];for(let l=e;l<=a;l++)t.push(l);return t},Te=b({components:{TimeSpinner:te},props:{visible:Boolean,actualVisible:Boolean,parsedValue:{type:[Array]},format:{type:String,default:""}},emits:["pick","select-range","set-picker-option"],setup(e,a){const{t:t,lang:l}=v(),o=g("time"),n=g("picker"),i=h((()=>e.parsedValue[0])),r=h((()=>e.parsedValue[1])),s=le(e),d=h((()=>e.format.includes("ss"))),c=h((()=>e.format.includes("A")?"A":e.format.includes("a")?"a":"")),m=y([]),u=y([]),p=(e,t)=>{a.emit("pick",[e,t],!0)},f=h((()=>i.value>r.value)),b=y([0,2]),w=h((()=>d.value?11:8)),j=(e,a)=>{const t=R?R(e):[],l="start"===e,o=(a||(l?r.value:i.value)).hour(),n=l?De(o+1,23):De(0,o-1);return Ee(t,n)},V=(e,a,t)=>{const l=A?A(e,a):[],o="start"===a,n=t||(o?r.value:i.value);if(e!==n.hour())return l;const s=n.minute(),d=o?De(s+1,59):De(0,s-1);return Ee(l,d)},C=(e,a,t,l)=>{const o=P?P(e,a,t):[],n="start"===t,s=l||(n?r.value:i.value),d=s.hour(),c=s.minute();if(e!==d||a!==c)return o;const m=s.second(),u=n?De(m+1,59):De(0,m-1);return Ee(o,u)},F=e=>e.map(((a,t)=>T(e[0],e[1],0===t?"start":"end"))),{getAvailableHours:x,getAvailableMinutes:E,getAvailableSeconds:D}=oe(j,V,C),T=(e,a,t)=>{const l={hour:x,minute:E,second:D},o="start"===t;let n=o?e:a;const i=o?a:e;return["hour","minute","second"].forEach((e=>{if(l[e]){let a;const r=l[e];if(a="minute"===e?r(n.hour(),t,i):"second"===e?r(n.hour(),n.minute(),t,i):r(t,i),a&&a.length&&!a.includes(n[e]())){const t=o?0:a.length-1;n=n[e](a[t])}}})),n};a.emit("set-picker-option",["formatToString",a=>a?Array.isArray(a)?a.map((a=>a.format(e.format))):a.format(e.format):null]),a.emit("set-picker-option",["parseUserInput",a=>a?Array.isArray(a)?a.map((a=>S(a,e.format).locale(l.value))):S(a,e.format).locale(l.value):null]),a.emit("set-picker-option",["isValidValue",e=>{const a=e.map((e=>S(e).locale(l.value))),t=F(a);return a[0].isSame(t[0])&&a[1].isSame(t[1])}]),a.emit("set-picker-option",["handleKeydown",e=>{const a=e.code;if(a===_.left||a===_.right){return(e=>{const a=d.value?[0,3,6,11,14,17]:[0,3,8,11],t=["hours","minutes"].concat(d.value?["seconds"]:[]),l=(a.indexOf(b.value[0])+e+a.length)%a.length,o=a.length/2;l<o?O.start_emitSelectRange(t[l]):O.end_emitSelectRange(t[l-o])})(a===_.left?-1:1),void e.preventDefault()}if(a===_.up||a===_.down){const t=a===_.up?-1:1,l=b.value[0]<w.value?"start":"end";return O[`${l}_scrollDown`](t),void e.preventDefault()}}]),a.emit("set-picker-option",["getDefaultValue",()=>{if(Array.isArray(U))return U.map((e=>S(e).locale(l.value)));const e=S(U).locale(l.value);return[e,e.add(60,"m")]}]),a.emit("set-picker-option",["getRangeAvailableTime",F]);const O={},M=k("EP_PICKER_BASE"),{arrowControl:z,disabledHours:R,disabledMinutes:A,disabledSeconds:P,defaultValue:U}=M.props;return{nsTime:o,nsPicker:n,arrowControl:z,onSetOption:e=>{O[e[0]]=e[1]},setMaxSelectionRange:(e,t)=>{a.emit("select-range",e,t,"max"),b.value=[e+w.value,t+w.value]},setMinSelectionRange:(e,t)=>{a.emit("select-range",e,t,"min"),b.value=[e,t]},btnConfirmDisabled:f,handleCancel:()=>{a.emit("pick",s.value,!1)},handleConfirm:(e=!1)=>{a.emit("pick",[i.value,r.value],e)},t:t,showSeconds:d,minDate:i,maxDate:r,amPmMode:c,handleMinChange:e=>{p(e.millisecond(0),r.value)},handleMaxChange:e=>{p(i.value,e.millisecond(0))},minSelectableRange:m,maxSelectableRange:u,disabledHours_:j,disabledMinutes_:V,disabledSeconds_:C}}}),Oe=["disabled"];var Me=w(Te,[["render",function(e,a,t,l,o,n){const i=j("time-spinner");return e.actualVisible?(V(),C("div",{key:0,class:x([e.nsTime.b("range-picker"),e.nsPicker.b("panel")])},[F("div",{class:x(e.nsTime.be("range-picker","content"))},[F("div",{class:x(e.nsTime.be("range-picker","cell"))},[F("div",{class:x(e.nsTime.be("range-picker","header"))},E(e.t("el.datepicker.startTime")),3),F("div",{class:x([e.nsTime.be("range-picker","body"),e.nsTime.be("panel","content"),e.nsTime.is("arrow",e.arrowControl),{"has-seconds":e.showSeconds}])},[D(i,{ref:"minSpinner",role:"start","show-seconds":e.showSeconds,"am-pm-mode":e.amPmMode,"arrow-control":e.arrowControl,"spinner-date":e.minDate,"disabled-hours":e.disabledHours_,"disabled-minutes":e.disabledMinutes_,"disabled-seconds":e.disabledSeconds_,onChange:e.handleMinChange,onSetOption:e.onSetOption,onSelectRange:e.setMinSelectionRange},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","disabled-hours","disabled-minutes","disabled-seconds","onChange","onSetOption","onSelectRange"])],2)],2),F("div",{class:x(e.nsTime.be("range-picker","cell"))},[F("div",{class:x(e.nsTime.be("range-picker","header"))},E(e.t("el.datepicker.endTime")),3),F("div",{class:x([e.nsTime.be("range-picker","body"),e.nsTime.be("panel","content"),e.nsTime.is("arrow",e.arrowControl),{"has-seconds":e.showSeconds}])},[D(i,{ref:"maxSpinner",role:"end","show-seconds":e.showSeconds,"am-pm-mode":e.amPmMode,"arrow-control":e.arrowControl,"spinner-date":e.maxDate,"disabled-hours":e.disabledHours_,"disabled-minutes":e.disabledMinutes_,"disabled-seconds":e.disabledSeconds_,onChange:e.handleMaxChange,onSetOption:e.onSetOption,onSelectRange:e.setMaxSelectionRange},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","disabled-hours","disabled-minutes","disabled-seconds","onChange","onSetOption","onSelectRange"])],2)],2)],2),F("div",{class:x(e.nsTime.be("panel","footer"))},[F("button",{type:"button",class:x([e.nsTime.be("panel","btn"),"cancel"]),onClick:a[0]||(a[0]=a=>e.handleCancel())},E(e.t("el.datepicker.cancel")),3),F("button",{type:"button",class:x([e.nsTime.be("panel","btn"),"confirm"]),disabled:e.btnConfirmDisabled,onClick:a[1]||(a[1]=a=>e.handleConfirm())},E(e.t("el.datepicker.confirm")),11,Oe)],2)],2)):T("v-if",!0)}],["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/panel-time-range.vue"]]);S.extend(ne);const ze=b({name:"ElTimePicker",install:null,props:s(r({},ie),{isRange:{type:Boolean,default:!1}}),emits:["update:modelValue"],setup(e,a){const t=y(null),l=e.isRange?"timerange":"time",o=e.isRange?Me:re,n=s(r({},e),{focus:()=>{var e;null==(e=t.value)||e.handleFocus()},blur:()=>{var e;null==(e=t.value)||e.handleBlur()}});return O("ElPopperOptions",e.popperOptions),a.expose(n),()=>{var n;const i=null!=(n=e.format)?n:se;return M(de,s(r({},e),{format:i,type:l,ref:t,"onUpdate:modelValue":e=>a.emit("update:modelValue",e)}),{default:e=>M(o,e)})}}});ze.install=e=>{e.component(ze.name,ze)};const Re=ze;const Ae={"./icon/icon.vue":c,"./icon/icon2.vue":m,"./icon/icon3.vue":u,"./icon/icon4.vue":p},Pe=[],Ue={};Object.keys(Ae).forEach((e=>{let a=Ae[e].default,t=a.props.data.default,l=`icon${t.icon||""}`;Pe.push({icon:l,config:t}),Ue[l]=a}));const He=d(),Ie={name:"",components:s(r({},Ue),{DColor:pe,DIconPanel:me,DFontFamily:ue,ElMessage:z,ElTimePicker:Re,ElInput:Q,ElButton:R,ElForm:X,ElFormItem:J,ElRadioGroup:N,ElRadio:Z,ElCheckbox:ee,ElCheckboxGroup:ae,ElDatePicker:ce}),props:{data:{type:Object,default:{}}},setup(e,a){var t;"4"!=e.data.icon||e.data.repeatWeek||(e.data.repeatWeek=[1,2,3,4,5]);const l=A({iconList:Pe,editForm:Se(null==(t=Pe[0])?void 0:t.config),wigetSize:"small"}),o=y(),n=h((()=>!!e.data.title));return n.value&&(l.editForm=Se(e.data)),s(r({},P(l)),{repeatList:[{label:"每周",value:"week"},{label:"每月",value:"month"},{label:"每年",value:"year"},{label:"不重复",value:""},{label:"按节日",value:"festival"}],compHandle:e=>{l.editForm=Se(e.config)},addHandle:async a=>{if(await o.value.validate(),He.dialogApp.visible=a,n.value){for(let a in e.data)e.data[a]=l.editForm[a]||"";return void z.success(`【${l.editForm.name}】修改成功`)}let t={component:"daysMatter",name:"倒计时",size:l.wigetSize,type:"component",config:l.editForm};fe(t)},isEdit:n,refEditForm:o})}},qe=e=>($("data-v-05edba62"),e=e(),K(),e),Be={class:"app-days d-layout"},We={key:0,class:"d-layout-aside br",style:{width:"320px"}},Ge=G(" 组件尺寸： "),Le=G("中"),Ye=G("大"),$e=qe((()=>F("p",{class:"f12 mb10 d-sub"},"此列表为模板，选中后可修改文字和日期可以改变成任何类型的倒计时，添加后可以在桌面右键编辑/删除",-1))),Ke={class:"d-row"},Qe=["onClick"],Xe={class:"d-layout-content ml50"},Je={class:"ac",style:{width:"400px"}},Ne=G("添加并继续");var Ze=U({name:"daysMatter",components:{Content:U(Ie,[["render",function(e,a,t,l,o,n){const i=j("el-radio"),r=j("el-radio-group"),s=j("d-icon-panel"),d=j("el-input"),c=j("el-form-item"),m=j("el-time-picker"),u=j("el-date-picker"),p=j("el-checkbox"),f=j("el-checkbox-group"),b=j("d-color"),v=j("d-font-family"),g=j("el-button"),h=j("el-form");return V(),C("div",Be,[l.isEdit?T("",!0):(V(),C("div",We,[Ge,D(r,{modelValue:e.wigetSize,"onUpdate:modelValue":a[0]||(a[0]=a=>e.wigetSize=a)},{default:H((()=>[D(i,{label:"small"},{default:H((()=>[Le])),_:1}),D(i,{label:"medium"},{default:H((()=>[Ye])),_:1})])),_:1},8,["modelValue"]),$e,F("ul",Ke,[(V(!0),C(I,null,q(e.iconList,((a,t)=>(V(),C("li",{onClick:e=>l.compHandle(a),class:x([[{active:e.editForm.icon==a.config.icon},"d-col-"+("medium"==e.wigetSize?22:11)],"pl5 ac mb20 app-dayjs-icon-item"]),key:t},[D(s,{title:a.config.name,size:e.wigetSize},{default:H((()=>[(V(),B(W(a.icon),{size:"wigetSize",data:a.config,ref_for:!0,ref:"refIcon"},null,8,["data"]))])),_:2},1032,["title","size"])],10,Qe)))),128))])])),F("div",Xe,[F("div",Je,[D(s,{title:"倒计时",size:e.wigetSize},{default:H((()=>[(V(),B(W(`icon${e.editForm.icon}`),{size:"wigetSize",data:e.editForm},null,8,["data"]))])),_:1},8,["size"])]),D(h,{onSubmit:a[12]||(a[12]=Y((()=>{}),["prevent"])),style:{width:"400px"},"label-position":"right","label-width":"80px",size:"default",class:"mt20",model:e.editForm,ref:"refEditForm"},{default:H((()=>[D(c,{class:"mb5",label:"图标名称",prop:"name",required:""},{default:H((()=>[D(d,{maxlength:"20",modelValue:e.editForm.name,"onUpdate:modelValue":a[1]||(a[1]=a=>e.editForm.name=a)},null,8,["modelValue"])])),_:1}),D(c,{class:"mb5",label:"事件名称",prop:"title",required:""},{default:H((()=>[D(d,{maxlength:"20",modelValue:e.editForm.title,"onUpdate:modelValue":a[2]||(a[2]=a=>e.editForm.title=a)},null,8,["modelValue"])])),_:1}),"festival"!==e.editForm.repeat?(V(),B(c,{key:0,class:"mb5",label:"目标时间",prop:"target",required:""},{default:H((()=>[["4"].includes(e.editForm.icon)?(V(),B(m,{key:0,clearable:!1,modelValue:e.editForm.target,"onUpdate:modelValue":a[3]||(a[3]=a=>e.editForm.target=a)},null,8,["modelValue"])):(V(),B(u,{key:1,"value-format":"YYYY-MM-DD",style:{width:"100%"},type:"date",modelValue:e.editForm.target,"onUpdate:modelValue":a[4]||(a[4]=a=>e.editForm.target=a),clearable:!1},null,8,["modelValue"]))])),_:1})):T("",!0),D(c,{class:"mb5",label:"事件重复",prop:"repeat"},{default:H((()=>[["4"].includes(e.editForm.icon)?(V(),B(f,{key:0,modelValue:e.editForm.repeatWeek,"onUpdate:modelValue":a[5]||(a[5]=a=>e.editForm.repeatWeek=a)},{default:H((()=>[(V(),C(I,null,q(7,((e,a)=>D(p,{label:a,key:e},{default:H((()=>[G(E(["日","一","二","三","四","五","六"][a]),1)])),_:2},1032,["label"]))),64))])),_:1},8,["modelValue"])):(V(),B(r,{key:1,modelValue:e.editForm.repeat,"onUpdate:modelValue":a[6]||(a[6]=a=>e.editForm.repeat=a)},{default:H((()=>[(V(!0),C(I,null,q(l.repeatList,(e=>(V(),B(i,{label:e.value,key:e.key},{default:H((()=>[G(E(e.label),1)])),_:2},1032,["label"])))),128))])),_:1},8,["modelValue"]))])),_:1}),D(c,{class:"mb5",label:"背景颜色",prop:"bgColor",required:""},{default:H((()=>[D(b,{modelValue:e.editForm.bgColor,"onUpdate:modelValue":a[7]||(a[7]=a=>e.editForm.bgColor=a)},null,8,["modelValue"])])),_:1}),D(c,{class:"mb5",label:"文字颜色",prop:"textColor",required:""},{default:H((()=>[D(b,{modelValue:e.editForm.textColor,"onUpdate:modelValue":a[8]||(a[8]=a=>e.editForm.textColor=a)},null,8,["modelValue"])])),_:1}),D(c,{class:"mb5",label:"字体",prop:"family"},{default:H((()=>[D(v,{modelValue:e.editForm.family,"onUpdate:modelValue":a[9]||(a[9]=a=>e.editForm.family=a)},{default:H((({row:e})=>[F("span",{style:L({fontFamily:e.font})},"Font123",4)])),_:1},8,["modelValue"])])),_:1}),D(c,{prop:"family"},{default:H((()=>[D(g,{onClick:a[10]||(a[10]=e=>l.addHandle(!1)),style:{width:"120px"},class:"mr10",type:"primary"},{default:H((()=>[G(E(l.isEdit?"修改":"添加"),1)])),_:1}),l.isEdit?T("",!0):(V(),B(g,{key:0,onClick:a[11]||(a[11]=e=>l.addHandle(!0)),style:{width:"120px"},type:"primary"},{default:H((()=>[Ne])),_:1}))])),_:1})])),_:1},8,["model"])])])}],["__scopeId","data-v-05edba62"]]),DDialog:_e},props:{data:{type:Object,default:{}}},setup:(e,a)=>({isEdit:h((()=>e.data.title))})},[["render",function(e,a,t,l,o,n){const i=j("content"),r=j("d-dialog");return V(),B(r,{height:"550px",width:l.isEdit&&"580px",destroyOnClose:!0},{default:H((()=>[D(i,{data:t.data},null,8,["data"])])),_:1},8,["width"])}]]);export{Ze as default};
