var e=Object.defineProperty,a=Object.defineProperties,t=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,o=(a,t,l)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[t]=l,r=(e,a)=>{for(var t in a||(a={}))s.call(a,t)&&o(e,t,a[t]);if(l)for(var t of l(a))n.call(a,t)&&o(e,t,a[t]);return e},i=(e,l)=>a(e,t(l));import{bu as u,bv as c,a4 as b,af as p,bS as d,bz as v,k as m,aY as f,al as y,z as h,bI as g,ay as T,W as x,A as P,x as w,C as $,bB as k,a9 as N,d4 as C,dJ as B,dK as S,Q as E,as as R,ax as j,a2 as F,bJ as O,bP as A,cO as L,bR as K,aA as _,aF as z,bC as I,bH as V,bG as M,dL as q,dM as H,I as J,dN as W,r as Y,m as D,b3 as G,bn as Q,V as U,bF as X,bL as Z}from"./el-button.0a4ba32a.js";import{m as ee}from"./typescript.72bf8adc.js";import{w as ae,x as te}from"./main.858372aa.js";import{u as le}from"./index.c956e740.js";import{p as se}from"./plus.408c9cf2.js";const ne=Symbol("tabsRootContextKey"),oe=u({tabs:{type:c(Array),default:()=>ee([])}});var re=k(b(i(r({},{name:"ElTabBar"}),{props:oe,setup(e,{expose:a}){const t=e,l=N(),s=p(ne);s||d("ElTabBar","<el-tabs><el-tab-bar /></el-tabs>");const n=v("tabs"),o=m(),r=m(),i=()=>r.value=(()=>{let e=0,a=0;const n=["top","bottom"].includes(s.props.tabPosition)?"width":"height",o="width"===n?"x":"y";return t.tabs.every((s=>{var r,i,u,c;const b=null==(i=null==(r=l.parent)?void 0:r.refs)?void 0:i[`tab-${s.paneName}`];if(!b)return!1;if(!s.active)return!0;a=b[`client${h(n)}`];const p="x"===o?"left":"top";e=b.getBoundingClientRect()[p]-(null!=(c=null==(u=b.parentElement)?void 0:u.getBoundingClientRect()[p])?c:0);const d=window.getComputedStyle(b);return"width"===n&&(t.tabs.length>1&&(a-=Number.parseFloat(d.paddingLeft)+Number.parseFloat(d.paddingRight)),e+=Number.parseFloat(d.paddingLeft)),!1})),{[n]:`${a}px`,transform:`translate${h(o)}(${e}px)`}})();return f((()=>t.tabs),(async()=>{await y(),i()}),{immediate:!0}),g(o,(()=>i())),a({ref:o,update:i}),(e,a)=>(T(),x("div",{ref_key:"barRef",ref:o,class:P([w(n).e("active-bar"),w(n).is(w(s).props.tabPosition)]),style:$(r.value)},null,6))}})),[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-bar.vue"]]);const ie=u({panes:{type:c(Array),default:()=>ee([])},currentName:{type:[String,Number],default:""},editable:Boolean,onTabClick:{type:c(Function),default:C},onTabRemove:{type:c(Function),default:C},type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),ue=b({name:"ElTabNav",props:ie,setup(e,{expose:a}){const t=p(ne);t||d("ElTabNav","<el-tabs><tab-nav /></el-tabs>");const l=v("tabs"),s=B(),n=S(),o=m(),r=m(),i=m(),u=m(!1),c=m(0),b=m(!1),y=m(!0),T=E((()=>["top","bottom"].includes(t.props.tabPosition)?"width":"height")),x=E((()=>({transform:`translate${"width"===T.value?"X":"Y"}(-${c.value}px)`}))),P=()=>{if(!o.value)return;const e=o.value[`offset${h(T.value)}`],a=c.value;if(!a)return;const t=a>e?a-e:0;c.value=t},w=()=>{if(!o.value||!r.value)return;const e=r.value[`offset${h(T.value)}`],a=o.value[`offset${h(T.value)}`],t=c.value;if(e-t<=a)return;const l=e-t>2*a?t+a:e-a;c.value=l},$=()=>{const e=r.value;if(!(u.value&&i.value&&o.value&&e))return;const a=i.value.querySelector(".is-active");if(!a)return;const l=o.value,s=["top","bottom"].includes(t.props.tabPosition),n=a.getBoundingClientRect(),b=l.getBoundingClientRect(),p=s?e.offsetWidth-b.width:e.offsetHeight-b.height,d=c.value;let v=d;s?(n.left<b.left&&(v=d-(b.left-n.left)),n.right>b.right&&(v=d+n.right-b.right)):(n.top<b.top&&(v=d-(b.top-n.top)),n.bottom>b.bottom&&(v=d+(n.bottom-b.bottom))),v=Math.max(v,0),c.value=Math.min(v,p)},k=()=>{if(!r.value||!o.value)return;const e=r.value[`offset${h(T.value)}`],a=o.value[`offset${h(T.value)}`],t=c.value;if(a<e){const t=c.value;u.value=u.value||{},u.value.prev=t,u.value.next=t+a<e,e-t<a&&(c.value=e-a)}else u.value=!1,t>0&&(c.value=0)},N=e=>{const a=e.code,{up:t,down:l,left:s,right:n}=L;if(![t,l,s,n].includes(a))return;const o=Array.from(e.currentTarget.querySelectorAll("[role=tab]")),r=o.indexOf(e.target);let i;i=a===s||a===t?0===r?o.length-1:r-1:r<o.length-1?r+1:0,o[i].focus(),o[i].click(),C()},C=()=>{y.value&&(b.value=!0)},K=()=>b.value=!1;return f(s,(e=>{"hidden"===e?y.value=!1:"visible"===e&&setTimeout((()=>y.value=!0),50)})),f(n,(e=>{e?setTimeout((()=>y.value=!0),50):y.value=!1})),g(i,k),R((()=>setTimeout((()=>$()),0))),j((()=>k())),a({scrollToActiveTab:$,removeFocus:K}),()=>{const a=u.value?[F("span",{class:[l.e("nav-prev"),l.is("disabled",!u.value.prev)],onClick:P},[F(O,null,{default:()=>[F(ae,null,null)]})]),F("span",{class:[l.e("nav-next"),l.is("disabled",!u.value.next)],onClick:w},[F(O,null,{default:()=>[F(te,null,null)]})])]:null,s=e.panes.map(((a,s)=>{var n,o;const r=a.props.name||a.index||`${s}`,i=a.isClosable||e.editable;a.index=`${s}`;const u=i?F(O,{class:"is-icon-close",onClick:t=>e.onTabRemove(a,t)},{default:()=>[F(A,null,null)]}):null,c=(null==(o=(n=a.instance.slots).label)?void 0:o.call(n))||a.props.label,p=a.active?0:-1;return F("div",{ref:`tab-${r}`,class:[l.e("item"),l.is(t.props.tabPosition),l.is("active",a.active),l.is("disabled",a.props.disabled),l.is("closable",i),l.is("focus",b.value)],id:`tab-${r}`,key:`tab-${r}`,"aria-controls":`pane-${r}`,role:"tab","aria-selected":a.active,tabindex:p,onFocus:()=>C(),onBlur:()=>K(),onClick:t=>{K(),e.onTabClick(a,r,t)},onKeydown:t=>{!i||t.code!==L.delete&&t.code!==L.backspace||e.onTabRemove(a,t)}},[c,u])}));return F("div",{ref:i,class:[l.e("nav-wrap"),l.is("scrollable",!!u.value),l.is(t.props.tabPosition)]},[a,F("div",{class:l.e("nav-scroll"),ref:o},[F("div",{class:[l.e("nav"),l.is(t.props.tabPosition),l.is("stretch",e.stretch&&["top","bottom"].includes(t.props.tabPosition))],ref:r,style:x.value,role:"tablist",onKeydown:N},[e.type?null:F(re,{tabs:[...e.panes]},null),s])])])}}}),ce=u({type:{type:String,values:["card","border-card",""],default:""},activeName:{type:[String,Number],default:""},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number],default:""},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:c(Function),default:()=>!0},stretch:Boolean}),be=e=>V(e)||M(e),pe=(e,a=[])=>{const t=e.children||[];return Array.from(t).forEach((e=>{let t=e.type;t=t.name||t,"ElTabPane"===t&&e.component?a.push(e.component):t!==J&&"template"!==t||pe(e,a)})),a};var de=b({name:"ElTabs",props:ce,emits:{[I]:e=>be(e),[q]:e=>be(e),"tab-click":(e,a)=>a instanceof Event,"tab-change":e=>be(e),edit:(e,a)=>["remove","add"].includes(a),"tab-remove":e=>be(e),"tab-add":()=>!0},setup(e,{emit:a,slots:t,expose:l}){const s=N();le({scope:"el-tabs",type:"Event",from:"input",replacement:"tab-change",version:"2.5.0",ref:"https://element-plus.org/en-US/component/tabs.html#tabs-events"},E((()=>{var e;return K(null==(e=s.vnode.props)?void 0:e.onInput)})));const n=v("tabs"),o=m(),r=m([]),i=m(e.modelValue||e.activeName||"0"),u={},c=(e=!1)=>{if(t.default){const a=s.subTree.children,t=Array.from(a).find((({props:e})=>(null==e?void 0:e.class)===n.e("content")));if(!t)return;const l=pe(t).map((e=>u[e.uid])),o=!(l.length===r.value.length&&l.every(((e,a)=>e.uid===r.value[a].uid)));(e||o)&&(r.value=l)}else 0!==r.value.length&&(r.value=[])},b=e=>{i.value=e,a(q,e),a(I,e),a("tab-change",e)},p=a=>{var t;if(i.value===a)return;const l=null==(t=e.beforeLeave)?void 0:t.call(e,a,i.value);H(l)?l.then((()=>{var e,t;b(a),null==(t=null==(e=o.value)?void 0:e.removeFocus)||t.call(e)}),C):!1!==l&&b(a)},d=(e,t,l)=>{e.props.disabled||(p(t),a("tab-click",e,l))},h=(e,t)=>{e.props.disabled||(t.stopPropagation(),a("edit",e.props.name,"remove"),a("tab-remove",e.props.name))},g=()=>{a("edit",void 0,"add"),a("tab-add")};return j((()=>c())),R((()=>c())),f((()=>e.activeName),(e=>p(e))),f((()=>e.modelValue),(e=>p(e))),f(i,(async()=>{var e,a;c(!0),await y(),await(null==(e=o.value)?void 0:e.$nextTick()),null==(a=o.value)||a.scrollToActiveTab()})),_(ne,{props:e,currentName:i,updatePaneState:e=>u[e.uid]=e}),l({currentName:i}),()=>{const a=e.editable||e.addable?F("span",{class:n.e("new-tab"),tabindex:"0",onClick:g,onKeydown:e=>{e.code===L.enter&&g()}},[F(O,{class:n.is("icon-plus")},{default:()=>[F(se,null,null)]})]):null,l=F("div",{class:[n.e("header"),n.is(e.tabPosition)]},[a,F(ue,{ref:o,currentName:i.value,editable:e.editable,type:e.type,panes:r.value,stretch:e.stretch,onTabClick:d,onTabRemove:h},null)]),s=F("div",{class:n.e("content")},[z(t,"default")]);return F("div",{class:[n.b(),n.m(e.tabPosition),{[n.m("card")]:"card"===e.type,[n.m("border-card")]:"border-card"===e.type}]},[..."bottom"!==e.tabPosition?[l,s]:[s,l]])}}});const ve=u({label:{type:String,default:""},name:{type:[String,Number],default:""},closable:Boolean,disabled:Boolean,lazy:Boolean}),me=["id","aria-hidden","aria-labelledby"];var fe=k(b(i(r({},{name:"ElTabPane"}),{props:ve,setup(e){const a=e,t=N(),l=p(ne);l||d("ElTabPane","usage: <el-tabs><el-tab-pane /></el-tabs/>");const s=v("tab-pane"),n=m(),o=E((()=>a.closable||l.props.closable)),r=W((()=>l.currentName.value===(a.name||n.value))),i=m(r.value),u=E((()=>a.name||n.value)),c=W((()=>!a.lazy||i.value||r.value));return f(r,(e=>{e&&(i.value=!0)})),l.updatePaneState(Y({uid:t.uid,instance:D(t),props:a,paneName:u,active:r,index:n,isClosable:o})),(e,a)=>w(c)?G((T(),x("div",{key:0,id:`pane-${w(u)}`,class:P(w(s).b()),role:"tabpanel","aria-hidden":!w(r),"aria-labelledby":`tab-${w(u)}`},[z(e.$slots,"default")],10,me)),[[Q,w(r)]]):U("v-if",!0)}})),[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-pane.vue"]]);const ye=X(de,{TabPane:fe}),he=Z(fe);export{he as E,ye as a};
