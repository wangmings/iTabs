import{cS as e,c4 as t,cq as a,k as l,r as s,c0 as n,Q as o,aG as i,aH as c,ay as d,U as r,b1 as u,X as m,b3 as f,W as p,I as v,aE as b,A as y,x,b7 as g,D as k,a2 as I,ca as h,bn as j,V as _,a1 as w,bx as B,dw as C,al as V,ci as Y}from"./el-button.0a4ba32a.js";import{_ as E}from"./d-dialog.ed95f2b9.js";import{D as M}from"./d-empty.092f35dc.js";import{E as O}from"./el-input.b3ba137c.js";import{t as D,a as L}from"./timeFormat.9fb4ebd1.js";import{r as H,P as z}from"./main.858372aa.js";import{_ as P}from"./PinOff16Regular.78f8bd58.js";import{b as U}from"./_baseOrderBy.99fbac09.js";import"./el-dialog.4b8a03dc.js";import"./el-overlay.ebdea840.js";import"./index.8dc67c0c.js";import"./typescript.72bf8adc.js";import"./_Uint8Array.d6bc81f7.js";import"./_baseIsEqual.220044e7.js";import"./identity.737b3aaf.js";var N={};Object.defineProperty(N,"__esModule",{value:!0});const S=H,q={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 16 16"},A=[(0,S.createElementVNode)("g",{fill:"none"},[(0,S.createElementVNode)("path",{d:"M10.059 2.445a1.5 1.5 0 0 0-2.386.354l-2.02 3.79l-2.811.937a.5.5 0 0 0-.196.828L4.793 10.5l-2.647 2.647L2 14l.854-.146L5.5 11.207l2.146 2.147a.5.5 0 0 0 .828-.196l.937-2.81l3.779-2.024a1.5 1.5 0 0 0 .354-2.38L10.06 2.444zm-1.504.824a.5.5 0 0 1 .796-.118l3.485 3.498a.5.5 0 0 1-.118.794L8.764 9.559a.5.5 0 0 0-.238.283l-.744 2.233l-3.856-3.856l2.232-.744a.5.5 0 0 0 .283-.24L8.555 3.27z",fill:"currentColor"})],-1)];var R=N.default=(0,S.defineComponent)({name:"Pin16Regular",render:function(e,t){return(0,S.openBlock)(),(0,S.createElementBlock)("svg",q,A)}});const F={class:"d-layout app-notes hfull"},G={class:"d-layout-aside notes-tabs",width:"200px"},Q={class:"f18 bb pl20"},T=w(" 备忘录 "),W={class:"d-relative notes-sort fr pr10"},X=["onClick"],J=["onClick"],K={class:"f14 b d-elip"},Z={class:"f12 d-inline d-sub"},$=["onClick"],ee=["title","onClick"],te={class:"d-layout-content hfull p10 d-bg-input"},ae={key:0,class:"hfull"},le={class:"ac f12 d-sub mt5"},se={name:"appNotes"};var ne=t(Object.assign(se,{setup(t){const w=a(),H=l(null),N=s({activeItem:w.value[0],sortBy:n.get("noteSortBy")||"desc"});function S(){Y("notes")}const q=o((()=>{let t=(a=w.value,l=["ut"],s=[N.sortBy],null==a?[]:(e(l)||(l=null==l?[]:[l]),e(s=o?void 0:s)||(s=null==s?[]:[s]),U(a,l,s)));var a,l,s,o;return w.value=t,n.set("noteSortBy",N.sortBy),t}));function A(){N.activeItem.ut=B().valueOf(),S()}async function se(e){N.activeItem={id:C(),title:"",content:"",fixed:!1,ct:B().valueOf(),ut:B().valueOf()},w.value.push(N.activeItem),V((()=>{H.value.focus()})),S()}return(e,t)=>{const a=i("el-icon"),l=c("bg-color");return d(),r(E,{width:"770px",height:"500px"},{default:u((()=>[m("div",F,[f((d(),p("div",G,[m("h2",Q,[T,m("span",W,[(d(),p(v,null,b(["asc","desc"],((e,t)=>m("i",{key:t,class:y([[{active:x(N).sortBy==e},e],"sort-caret"]),onClick:t=>x(N).sortBy=e},null,10,X))),64))])]),x(w).length?(d(),r(g,{key:1,tag:"ul",name:"list-complete",class:"notes-tabs-body"},{default:u((()=>[(d(!0),p(v,null,b(x(q),((e,t)=>(d(),p("li",{onClick:t=>x(N).activeItem=e,class:y([{active:x(N).activeItem===e},"notes-tabs-item d-elip"]),key:e.id},[m("h4",K,k(e.title||e.content||"无标题"),1),m("time",Z,k(x(D)(e.ut)),1),m("span",{class:"notes-del",title:"删除备忘录",onClick:a=>function(e,t){ElMessageBox.confirm("删除这条备忘录?","提示",{center:!0,type:"warning"}).then((()=>{t&&(N.activeItem=q.value[t-1]);let a=w.value.findIndex((t=>t.id==e.id));w.value.splice(a,1),S()}))}(e,t)},[I(a,{size:16},{default:u((()=>[I(x(h))])),_:1})],8,$),m("span",{class:"notes-del fixed",title:""+(e.fixed?"取消固定":"固定到桌面"),onClick:t=>function(e){e.fixed=!e.fixed,S()}(e)},[I(a,{size:18},{default:u((()=>[f(I(x(R),null,null,512),[[j,e.fixed]]),f(I(x(P),null,null,512),[[j,!e.fixed]])])),_:2},1024)],8,ee)],10,J)))),128))])),_:1})):(d(),r(M,{key:0})),m("div",{class:"notes-add d-flex-center",onClick:se,title:"新增备忘录"},[I(a,null,{default:u((()=>[I(x(z))])),_:1})])])),[[l,"var(--bg-input)"]]),m("div",te,[x(w).length?(d(),p("div",ae,[I(x(O),{ref_key:"refTitle",ref:H,class:"note-title f16",modelValue:x(N).activeItem.title,"onUpdate:modelValue":t[0]||(t[0]=e=>x(N).activeItem.title=e),onInput:A,placeholder:"请输入笔记标题"},null,8,["modelValue"]),I(x(O),{onInput:A,class:"note-content f14",type:"textarea",modelValue:x(N).activeItem.content,"onUpdate:modelValue":t[1]||(t[1]=e=>x(N).activeItem.content=e),placeholder:"请输入笔记内容"},null,8,["modelValue"]),m("div",le," 最后编辑："+k(x(L)(x(N).activeItem.ut,"YYYY-MM-DD HH:mm"))+", 创建："+k(x(L)(x(N).activeItem.ct,"YYYY-MM-DD HH:mm")),1)])):_("",!0)])])])),_:1})}}}),[["__scopeId","data-v-07ea54fa"]]);export{ne as default};
