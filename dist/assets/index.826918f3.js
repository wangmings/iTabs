var a=Object.defineProperty,e=Object.defineProperties,t=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,n=(e,t,l)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l,o=(a,e)=>{for(var t in e||(e={}))s.call(e,t)&&n(a,t,e[t]);if(l)for(var t of l(e))r.call(e,t)&&n(a,t,e[t]);return a},i=(a,l)=>e(a,t(l));import{a4 as c,ay as d,U as p,a2 as m,W as u,X as f,r as w,k as h,Q as y,aG as b,aH as v,b1 as x,b3 as g,x as _,D as j,I as k,aE as M,a1 as O,V as z,A as D,bx as C,C as S}from"./el-button.0a4ba32a.js";import{_ as q}from"./d-dialog.ed95f2b9.js";import"./el-input.b3ba137c.js";import{a as I,E as V}from"./el-select.dc7a2ac5.js";import"./el-scrollbar.3e84cd99.js";import"./el-popper.7e8f10c3.js";import{a as T}from"./timeFormat.9fb4ebd1.js";import{a3 as A,a4 as H,a5 as W,a6 as E,a7 as P,a8 as B}from"./main.858372aa.js";import{u as L,U,i as $,a as F,b as G}from"./install.e81c9494.js";import"./el-dialog.4b8a03dc.js";import"./el-overlay.ebdea840.js";import"./index.8dc67c0c.js";import"./typescript.72bf8adc.js";import"./index.f364da82.js";import"./event.0bae16b8.js";import"./isEqual.6fce44d5.js";import"./_baseIsEqual.220044e7.js";import"./_Uint8Array.d6bc81f7.js";import"./index.b9023f44.js";import"./validator.053f84bf.js";import"./deprecation.bfd0cf7f.js";import"./index.c956e740.js";import"./arrow-up.0ae35c9a.js";var Q=c({name:"Aim"});const X={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Y=m("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),J=m("path",{fill:"currentColor",d:"M512 96a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V128a32 32 0 0 1 32-32zm0 576a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V704a32 32 0 0 1 32-32zM96 512a32 32 0 0 1 32-32h192a32 32 0 0 1 0 64H128a32 32 0 0 1-32-32zm576 0a32 32 0 0 1 32-32h192a32 32 0 1 1 0 64H704a32 32 0 0 1-32-32z"},null,-1);Q.render=function(a,e,t,l,s,r){return d(),p("svg",X,[Y,J])},Q.__file="packages/components/Aim.vue";var K=Q;const N={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},R=[f("g",{fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[f("path",{d:"M5 21c.5-4.5 2.5-8 7-10"}),f("path",{d:"M9 18c6.218 0 10.5-3.288 11-12V4h-4.014c-9 0-11.986 4-12 9c0 1 0 3 2 5h3z"})],-1)];var Z=c({name:"Leaf",render:function(a,e){return d(),u("svg",N,R)}});const aa={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},ea=[f("g",{fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[f("path",{d:"M3 17h1m16 0h1M5.6 10.6l.7.7m12.1-.7l-.7.7M8 17a4 4 0 0 1 8 0"}),f("path",{d:"M3 21h18"}),f("path",{d:"M12 9V3l3 3M9 6l3-3"})],-1)];var ta=c({name:"Sunrise",render:function(a,e){return d(),u("svg",aa,ea)}});const la={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},sa=[f("g",{fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[f("path",{d:"M3 17h1m16 0h1M5.6 10.6l.7.7m12.1-.7l-.7.7M8 17a4 4 0 0 1 8 0"}),f("path",{d:"M3 21h18"}),f("path",{d:"M12 3v6l3-3M9 6l3 3"})],-1)];var ra=c({name:"Sunset",render:function(a,e){return d(),u("svg",la,sa)}});const na={class:"app-weather-body d-scrollbar-hide"},oa={class:"d-flex-between"},ia={class:"f12"},ca={class:"ml5"},da={class:"ml5"},pa={class:"f12 ml20"},ma={class:"d-flex-y app-weather-select"},ua={class:"d-flex-y mt20 mb20"},fa={class:"weather-now-tmp"},wa={class:"ml20"},ha={key:0,class:"weather-aqi"},ya={class:"mt10 d-flex-y"},ba={class:"mr10"},va={class:"mr10"},xa={class:"mr10"},ga={key:0,class:"f13"},_a={class:"mt10 mb10 f13 d-flex",style:{"line-height":"18px",height:"16px"}},ja={class:"mr20"},ka={class:"mr20"},Ma={class:"mr20"},Oa={class:"mr20"},za={class:"mr20"},Da={class:"weather-card-bg"},Ca=f("h3",{class:"weather-card-title"},"24H天气预报",-1),Sa={class:"mb10 f12"},qa={class:"mb10 d-flex-center"},Ia=["title"],Va={class:"weather-card-bg"},Ta=f("h3",{class:"weather-card-title"},"7日天气预报",-1),Aa={class:"mt5 weather-daily_grid f14"},Ha={class:"mb10"},Wa={class:"mb10"},Ea={class:"mb10 d-flex-center"},Pa=f("p",{style:{height:"180px"}},null,-1),Ba={class:"mb10"},La={class:"weather-card-bg"},Ua=f("h3",{class:"weather-card-title"},"生活指数",-1),$a={class:"weather-lifestyle f12"},Fa=f("div",{class:"mt10 f12 ac"},"天气数据由和风天气提供",-1),Ga={name:"appWeather",title:"i天气",icon:"weather-icon",description:"准确预报全球近10000多个地区的一周天气预报，包括国内县级和县级以上全部城市"},Qa=Object.assign(Ga,{setup(a){L([$,F,G]);const e=A(),t=w({cityId:"",cityOptions:[],loading:!1,searchWeather:null,updateTime:"",hourly24Data:[]}),l=h(null);const s=y((()=>{const a={type:"line",smooth:.2,label:{show:!0,position:"bottom",color:"#fff",borderWidth:0,formatter:function(a){return a.value+"°"}},lineStyle:{width:1},symbolSize:10,itemStyle:{width:10}},t=e.value.daily_forecast.map((a=>a.tmp_max)),l=e.value.daily_forecast.map((a=>a.tmp_min));return{backgroundColor:"transparent",color:["#fff","#fff"],grid:{left:"4%",right:"6%",bottom:30,top:30,containLabel:!0},xAxis:{type:"category",boundaryGap:!1,show:!1,data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]},yAxis:{type:"value",show:!1,min:Math.min(...l)},series:[i(o({},a),{label:{show:!0,position:"top",color:"#fff",borderWidth:0,formatter:function(a){return a.value+"°"}},data:t}),i(o({},a),{data:l})]}})),r={cw:"洗车指数",drsg:"穿衣指数",uv:"紫外线指数",fsh:"钓鱼指数",comf:"舒适度指数",sport:"运动指数",flu:"感冒指数",trav:"旅游指数"},n=y((()=>(e.value.lifestyle||[]).map((a=>({name:r[a.type],value:a.brf}))))),c=y((()=>({backgroundImage:H(e.value.now.cond_code)})));function Q(a){t.cityOptions=[],a.length<2||P({location:a}).then((a=>{let e=a.location||[];e=e.map((a=>o({label:a.name+"-"+a.adm2},a))),t.cityOptions=e}))}async function X(){t.loading=!0,await B(null,!0),await W(!0),t.cityId="",setTimeout((()=>{t.loading=!1}),300)}async function Y(a){if(t.loading=!0,!a)return;let e=t.cityOptions.find((e=>e.id==a));await B(e,!0),await W(!0),setTimeout((()=>{t.loading=!1}),200)}function J(a){let e=["周日","周一","周二","周三","周四","周五","周六"][C(a).day()];return C(a).format("DD")==C().format("DD")&&(e="今天"),e}return async function(){let a=await W();t.hourly24Data=a.hourly||[]}(),(a,r)=>{const o=b("el-icon"),i=v("loading");return d(),p(q,null,{default:x((()=>[g((d(),u("div",{class:"app-weather",style:S(_(c))},[f("div",na,[f("div",oa,[f("div",ia,[f("span",null,j(_(e).location.adm2)+",",1),f("span",null,j(_(e).location.name),1),f("span",ca,j(_(e).now.cond_txt),1),f("span",da,j(_(e).daily_forecast[0].tmp_min)+"°~"+j(_(e).daily_forecast[0].tmp_max)+"° ",1),f("span",pa,"发布于:"+j(_(T)(_(e).updateTime)),1)]),f("div",ma,[m(_(V),{"append-to":"",modelValue:_(t).cityId,"onUpdate:modelValue":r[0]||(r[0]=a=>_(t).cityId=a),"remote-method":Q,filterable:"",remote:"","popper-class":"app-weather-popper",placeholder:"输入城市、乡镇",onChange:Y,size:"default"},{default:x((()=>[(d(!0),u(k,null,M(_(t).cityOptions,(a=>(d(),p(_(I),{key:a.value,label:a.label,value:a.id},null,8,["label","value"])))),128))])),_:1},8,["modelValue"]),m(o,{title:"自动定位",class:"location-btn",onClick:X},{default:x((()=>[m(_(K))])),_:1})])]),f("div",ua,[f("span",fa,j(_(e).now.tmp)+"°",1),f("div",wa,[_(e).air_now_city?(d(),u("p",ha,[m(o,{size:22},{default:x((()=>[m(_(Z))])),_:1}),O(" "+j(_(e).air_now_city.qlty)+"/"+j(_(e).air_now_city.aqi),1)])):z("",!0),f("p",ya,[f("i",{class:D(["f15 mr5",`qi-${_(e).now.cond_code}-fill`])},null,2),f("span",ba,j(_(e).now.cond_txt),1),f("span",va,j(_(e).now.wind_dir),1),f("span",xa,j(_(e).now.wind_sc)+"级",1)])])]),_(e).rain?(d(),u("div",ga,"预计"+j(_(e).rain.txt),1)):z("",!0),f("div",_a,[f("span",ja,"湿度"+j(_(e).now.hum)+"%",1),f("span",ka,"气压"+j(_(e).now.pres)+"百帕",1),f("span",Ma,"降水"+j(_(e).now.pcpn)+"mm",1),f("span",Oa,[m(o,{size:16,title:"日出"},{default:x((()=>[m(_(ta))])),_:1}),O(" "+j(_(e).sun.rise),1)]),f("span",za,[m(o,{size:16,title:"日落"},{default:x((()=>[m(_(ra))])),_:1}),O(" "+j(_(e).sun.set),1)])]),f("div",Da,[Ca,f("ul",{onMousewheel:r[1]||(r[1]=a=>function(a){a.preventDefault();let e=-a.wheelDelta||40*-a.deltaY,t=l.value;t.scrollLeft=t.scrollLeft+e/2}(a)),ref_key:"h24Scrollbar",ref:l,class:"f14 d-auto-x",style:{display:"flex"}},[(d(!0),u(k,null,M(_(t).hourly24Data,((a,e)=>(d(),u("li",{class:"weather-daily_item ac pb20",key:e,style:{"min-width":"50px"}},[f("p",Sa,j(_(T)(a.fxTime,"HH时")),1),f("p",qa,[f("i",{class:D(["f16",`qi-${a.icon}-fill`]),title:a.text},null,10,Ia)]),f("p",null,j(a.temp)+"°",1)])))),128))],544)]),f("div",Va,[Ta,f("ul",Aa,[(d(!0),u(k,null,M(_(e).daily_forecast,((a,e)=>{return d(),u("li",{class:"weather-daily_item ac",key:e},[f("p",Ha,j(J(a.date)),1),f("p",Wa,j((t=a.date,C(t).format("MM-DD"))),1),f("p",Ea,[f("i",{class:D(["f18 mr5",`qi-${a.cond_code_d}-fill`])},null,2),O(" "+j(a.cond_txt_d),1)]),Pa,f("p",Ba,[m(o,null,{default:x((()=>[m(_(E))])),_:1}),O(" "+j(a.wind_sc)+"级 ",1)])]);var t})),128)),m(_(U),{autoresize:"",theme:"dark",class:"weather-line",option:_(s)},null,8,["option"])])]),f("div",La,[Ua,f("ul",$a,[(d(!0),u(k,null,M(_(n),((a,e)=>(d(),u("li",{class:"d-flex-center",key:e},[f("div",null,[f("p",null,j(a.name),1),f("p",null,j(a.value),1)])])))),128))])]),Fa])],4)),[[i,_(t).loading]])])),_:1})}}});export{Qa as default};
