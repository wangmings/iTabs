import{al as e,cO as t}from"./el-button.0a4ba32a.js";import{o as n,a as r}from"./event.0bae16b8.js";const a=e=>Array.from(e.querySelectorAll('a[href],button:not([disabled]),button:not([hidden]),:not([tabindex="-1"]),input:not([disabled]),input:not([type="hidden"]),select:not([disabled]),textarea:not([disabled])')).filter((e=>o(e)&&(e=>"fixed"!==getComputedStyle(e).position&&null!==e.offsetParent)(e))),o=e=>{if(e.tabIndex>0||0===e.tabIndex&&null!==e.getAttribute("tabIndex"))return!0;if(e.disabled)return!1;switch(e.nodeName){case"A":return!!e.href&&"ignore"!==e.rel;case"INPUT":return!("hidden"===e.type||"file"===e.type);case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}},d=[],u=e=>{if(0===d.length)return;const n=d[d.length-1]["_trap-focus-children"];if(n.length>0&&e.code===t.tab){if(1===n.length)return e.preventDefault(),void(document.activeElement!==n[0]&&n[0].focus());const t=e.shiftKey,r=e.target===n[0],a=e.target===n[n.length-1];r&&t&&(e.preventDefault(),n[n.length-1].focus()),a&&!t&&(e.preventDefault(),n[0].focus())}},l={beforeMount(e){e["_trap-focus-children"]=a(e),d.push(e),d.length<=1&&n(document,"keydown",u)},updated(t){e((()=>{t["_trap-focus-children"]=a(t)}))},unmounted(){d.shift(),0===d.length&&r(document,"keydown",u)}};export{l as T};
