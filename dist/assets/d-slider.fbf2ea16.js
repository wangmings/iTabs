var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,i=(t,a,l)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[a]=l;import{af as s,Q as r,aY as u,k as d,bq as m,bC as p,al as c,a4 as v,bz as g,r as f,v as y,bB as b,aG as h,ay as V,W as w,a2 as S,b1 as x,X as k,D as B,A as D,C,bo as M,bp as P,ac as z,cK as N,cL as L,n as K,dL as E,cP as j,cD as F,aA as I,as as T,ao as A,bS as X,cG as Y,U as O,V as R,I as U,aE as W,c4 as $,ci as _,ak as q}from"./el-button.0a4ba32a.js";import{E as G}from"./el-input-number.39938184.js";import"./el-input.b3ba137c.js";import"./el-popper.7e8f10c3.js";import{E as H}from"./index.f364da82.js";import{o as Q,a as J}from"./event.0bae16b8.js";import{i as Z}from"./validator.053f84bf.js";const ee=(e,t,a)=>{const{disabled:l,min:n,max:o,step:i,showTooltip:v,precision:g,sliderSize:f,formatTooltip:y,emitChange:b,resetSize:h,updateDragging:V}=s("SliderProvider"),{tooltip:w,tooltipVisible:S,formatValue:x,displayTooltip:k,hideTooltip:B}=((e,t,a)=>{const l=d(null),n=d(!1),o=r((()=>t.value instanceof Function)),i=r((()=>o.value&&t.value(e.modelValue)||e.modelValue)),s=m((()=>{a.value&&(n.value=!0)}),50),u=m((()=>{a.value&&(n.value=!1)}),50);return{tooltip:l,tooltipVisible:n,formatValue:i,displayTooltip:s,hideTooltip:u}})(e,y,v),D=r((()=>(e.modelValue-n.value)/(o.value-n.value)*100+"%")),C=r((()=>e.vertical?{bottom:D.value}:{left:D.value})),M=e=>{let t,a;return e.type.startsWith("touch")?(a=e.touches[0].clientY,t=e.touches[0].clientX):(a=e.clientY,t=e.clientX),{clientX:t,clientY:a}},P=a=>{t.dragging=!0,t.isClick=!0;const{clientX:l,clientY:n}=M(a);e.vertical?t.startY=n:t.startX=l,t.startPosition=Number.parseFloat(D.value),t.newPosition=t.startPosition},z=a=>{if(t.dragging){let l;t.isClick=!1,k(),h();const{clientX:n,clientY:o}=M(a);e.vertical?(t.currentY=o,l=(t.startY-t.currentY)/f.value*100):(t.currentX=n,l=(t.currentX-t.startX)/f.value*100),t.newPosition=t.startPosition+l,L(t.newPosition)}},N=()=>{t.dragging&&(setTimeout((()=>{t.dragging=!1,t.hovering||B(),t.isClick||(L(t.newPosition),b())}),0),J(window,"mousemove",z),J(window,"touchmove",z),J(window,"mouseup",N),J(window,"touchend",N),J(window,"contextmenu",N))},L=async l=>{if(null===l||Number.isNaN(+l))return;l<0?l=0:l>100&&(l=100);const s=100/((o.value-n.value)/i.value);let r=Math.round(l/s)*s*(o.value-n.value)*.01+n.value;r=Number.parseFloat(r.toFixed(g.value)),a(p,r),t.dragging||e.modelValue===t.oldValue||(t.oldValue=e.modelValue),await c(),t.dragging&&k(),w.value.updatePopper()};return u((()=>t.dragging),(e=>{V(e)})),{tooltip:w,tooltipVisible:S,showTooltip:v,wrapperStyle:C,formatValue:x,handleMouseEnter:()=>{t.hovering=!0,k()},handleMouseLeave:()=>{t.hovering=!1,t.dragging||B()},onButtonDown:e=>{l.value||(e.preventDefault(),P(e),Q(window,"mousemove",z),Q(window,"touchmove",z),Q(window,"mouseup",N),Q(window,"touchend",N),Q(window,"contextmenu",N))},onLeftKeyDown:()=>{l.value||(t.newPosition=Number.parseFloat(D.value)-i.value/(o.value-n.value)*100,L(t.newPosition),b())},onRightKeyDown:()=>{l.value||(t.newPosition=Number.parseFloat(D.value)+i.value/(o.value-n.value)*100,L(t.newPosition),b())},setPosition:L}};var te=b(v({name:"ElSliderButton",components:{ElTooltip:H},props:{modelValue:{type:Number,default:0},vertical:{type:Boolean,default:!1},tooltipClass:{type:String,default:""}},emits:[p],setup(e,{emit:t}){const a=g("slider"),l=f({hovering:!1,dragging:!1,isClick:!1,startX:0,currentX:0,startY:0,currentY:0,startPosition:0,newPosition:0,oldValue:e.modelValue}),{tooltip:n,showTooltip:o,tooltipVisible:i,wrapperStyle:s,formatValue:r,handleMouseEnter:u,handleMouseLeave:d,onButtonDown:m,onLeftKeyDown:p,onRightKeyDown:c,setPosition:v}=ee(e,l,t),{hovering:b,dragging:h}=y(l);return{ns:a,tooltip:n,tooltipVisible:i,showTooltip:o,wrapperStyle:s,formatValue:r,handleMouseEnter:u,handleMouseLeave:d,onButtonDown:m,onLeftKeyDown:p,onRightKeyDown:c,setPosition:v,hovering:b,dragging:h}}}),[["render",function(e,t,a,l,n,o){const i=h("el-tooltip");return V(),w("div",{ref:"button",class:D([e.ns.e("button-wrapper"),{hover:e.hovering,dragging:e.dragging}]),style:C(e.wrapperStyle),tabindex:"0",onMouseenter:t[1]||(t[1]=(...t)=>e.handleMouseEnter&&e.handleMouseEnter(...t)),onMouseleave:t[2]||(t[2]=(...t)=>e.handleMouseLeave&&e.handleMouseLeave(...t)),onMousedown:t[3]||(t[3]=(...t)=>e.onButtonDown&&e.onButtonDown(...t)),onTouchstart:t[4]||(t[4]=(...t)=>e.onButtonDown&&e.onButtonDown(...t)),onFocus:t[5]||(t[5]=(...t)=>e.handleMouseEnter&&e.handleMouseEnter(...t)),onBlur:t[6]||(t[6]=(...t)=>e.handleMouseLeave&&e.handleMouseLeave(...t)),onKeydown:[t[7]||(t[7]=M(((...t)=>e.onLeftKeyDown&&e.onLeftKeyDown(...t)),["left"])),t[8]||(t[8]=M(((...t)=>e.onRightKeyDown&&e.onRightKeyDown(...t)),["right"])),t[9]||(t[9]=M(P(((...t)=>e.onLeftKeyDown&&e.onLeftKeyDown(...t)),["prevent"]),["down"])),t[10]||(t[10]=M(P(((...t)=>e.onRightKeyDown&&e.onRightKeyDown(...t)),["prevent"]),["up"]))]},[S(i,{ref:"tooltip",visible:e.tooltipVisible,"onUpdate:visible":t[0]||(t[0]=t=>e.tooltipVisible=t),placement:"top","stop-popper-mouse-event":!1,"popper-class":e.tooltipClass,disabled:!e.showTooltip,persistent:""},{content:x((()=>[k("span",null,B(e.formatValue),1)])),default:x((()=>[k("div",{class:D([e.ns.e("button"),{hover:e.hovering,dragging:e.dragging}])},null,2)])),_:1},8,["visible","popper-class","disabled"])],38)}],["__file","/home/runner/work/element-plus/element-plus/packages/components/slider/src/button.vue"]]);const ae=v({name:"ElMarker",props:{mark:{type:[String,Object],default:()=>{}}},setup:e=>({ns:g("slider"),label:r((()=>"string"==typeof e.mark?e.mark:e.mark.label))}),render(){var e;return z("div",{class:this.ns.e("marks-text"),style:null==(e=this.mark)?void 0:e.style},this.label)}});const le=v({name:"ElSlider",components:{ElInputNumber:G,SliderButton:te,SliderMarker:b(ae,[["__file","/home/runner/work/element-plus/element-plus/packages/components/slider/src/marker.vue"]])},props:{modelValue:{type:[Number,Array],default:0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},showInput:{type:Boolean,default:!1},showInputControls:{type:Boolean,default:!0},size:{type:String,validator:Z},inputSize:{type:String,validator:Z},showStops:{type:Boolean,default:!1},showTooltip:{type:Boolean,default:!0},formatTooltip:{type:Function,default:void 0},disabled:{type:Boolean,default:!1},range:{type:Boolean,default:!1},vertical:{type:Boolean,default:!1},height:{type:String,default:""},debounce:{type:Number,default:300},label:{type:String,default:void 0},tooltipClass:{type:String,default:void 0},marks:Object},emits:[p,j,E],setup(e,{emit:u}){const m=g("slider"),v=f({firstValue:0,secondValue:0,oldValue:0,dragging:!1,sliderSize:1}),{elFormItem:b,slider:h,firstButton:V,secondButton:w,sliderDisabled:S,minValue:x,maxValue:k,runwayStyle:B,barStyle:D,resetSize:C,emitChange:M,onSliderClick:P,setFirstValue:z,setSecondValue:T}=((e,t,a)=>{const l=s(N,{}),n=s(L,{}),o=K(null),i=d(null),u=d(null),m={firstButton:i,secondButton:u},v=r((()=>e.disabled||l.disabled||!1)),g=r((()=>Math.min(t.firstValue,t.secondValue))),f=r((()=>Math.max(t.firstValue,t.secondValue))),y=r((()=>e.range?100*(f.value-g.value)/(e.max-e.min)+"%":100*(t.firstValue-e.min)/(e.max-e.min)+"%")),b=r((()=>e.range?100*(g.value-e.min)/(e.max-e.min)+"%":"0%")),h=r((()=>e.vertical?{height:e.height}:{})),V=r((()=>e.vertical?{height:y.value,bottom:b.value}:{width:y.value,left:b.value})),w=()=>{o.value&&(t.sliderSize=o.value["client"+(e.vertical?"Height":"Width")])},S=a=>{const l=e.min+a*(e.max-e.min)/100;if(!e.range)return void i.value.setPosition(a);let n;n=Math.abs(g.value-l)<Math.abs(f.value-l)?t.firstValue<t.secondValue?"firstButton":"secondButton":t.firstValue>t.secondValue?"firstButton":"secondButton",m[n].value.setPosition(a)},x=e=>{a(p,e),a(E,e)},k=async()=>{await c(),a(j,e.range?[g.value,f.value]:e.modelValue)};return{elFormItem:n,slider:o,firstButton:i,secondButton:u,sliderDisabled:v,minValue:g,maxValue:f,runwayStyle:h,barStyle:V,resetSize:w,setPosition:S,emitChange:k,onSliderClick:a=>{if(!v.value&&!t.dragging){if(w(),e.vertical){const e=o.value.getBoundingClientRect().bottom;S((e-a.clientY)/t.sliderSize*100)}else{const e=o.value.getBoundingClientRect().left;S((a.clientX-e)/t.sliderSize*100)}k()}},setFirstValue:a=>{t.firstValue=a,x(e.range?[g.value,f.value]:a)},setSecondValue:a=>{t.secondValue=a,e.range&&x([g.value,f.value])}}})(e,v,u),{stops:A,getStopStyle:X}=((e,t,a,l)=>({stops:r((()=>{if(!e.showStops||e.min>e.max)return[];if(0===e.step)return[];const n=(e.max-e.min)/e.step,o=100*e.step/(e.max-e.min),i=Array.from({length:n-1}).map(((e,t)=>(t+1)*o));return e.range?i.filter((t=>t<100*(a.value-e.min)/(e.max-e.min)||t>100*(l.value-e.min)/(e.max-e.min))):i.filter((a=>a>100*(t.firstValue-e.min)/(e.max-e.min)))})),getStopStyle:t=>e.vertical?{bottom:`${t}%`}:{left:`${t}%`}}))(e,v,x,k),Y=F(),O=r((()=>e.inputSize||Y.value)),R=r((()=>[m.b(),m.m(Y.value),m.is("vertical",e.vertical),{[m.m("with-input")]:e.showInput}])),U=(e=>r((()=>e.marks?Object.keys(e.marks).map(parseFloat).sort(((e,t)=>e-t)).filter((t=>t<=e.max&&t>=e.min)).map((t=>({point:t,position:100*(t-e.min)/(e.max-e.min),mark:e.marks[t]}))):[])))(e);ne(e,v,x,k,u,b);const W=r((()=>{const t=[e.min,e.max,e.step].map((e=>{const t=`${e}`.split(".")[1];return t?t.length:0}));return Math.max.apply(null,t)})),{sliderWrapper:$}=oe(e,v,C),{firstValue:_,secondValue:q,oldValue:G,dragging:H,sliderSize:Q}=y(v);var J;return I("SliderProvider",(J=((e,t)=>{for(var a in t||(t={}))n.call(t,a)&&i(e,a,t[a]);if(l)for(var a of l(t))o.call(t,a)&&i(e,a,t[a]);return e})({},y(e)),t(J,a({sliderSize:Q,disabled:S,precision:W,emitChange:M,resetSize:C,updateDragging:e=>{v.dragging=e}})))),{ns:m,firstValue:_,secondValue:q,oldValue:G,dragging:H,sliderSize:Q,slider:h,firstButton:V,secondButton:w,sliderDisabled:S,runwayStyle:B,barStyle:D,emitChange:M,onSliderClick:P,getStopStyle:X,setFirstValue:z,setSecondValue:T,stops:A,markList:U,sliderWrapper:$,sliderWrapperSize:Y,sliderInputSize:O,sliderKls:R}}}),ne=(e,t,a,l,n,o)=>{const i=e=>{n(p,e),n(E,e)},s=()=>e.range?![a.value,l.value].every(((e,a)=>e===t.oldValue[a])):e.modelValue!==t.oldValue,r=()=>{var a,l;if(e.min>e.max)return void X("Slider","min should not be greater than max.");const n=e.modelValue;e.range&&Array.isArray(n)?n[1]<e.min?i([e.min,e.min]):n[0]>e.max?i([e.max,e.max]):n[0]<e.min?i([e.min,n[1]]):n[1]>e.max?i([n[0],e.max]):(t.firstValue=n[0],t.secondValue=n[1],s()&&(null==(a=o.validate)||a.call(o,"change").catch((e=>Y())),t.oldValue=n.slice())):e.range||"number"!=typeof n||Number.isNaN(n)||(n<e.min?i(e.min):n>e.max?i(e.max):(t.firstValue=n,s()&&(null==(l=o.validate)||l.call(o,"change").catch((e=>Y())),t.oldValue=n)))};r(),u((()=>t.dragging),(e=>{e||r()})),u((()=>e.modelValue),((e,a)=>{t.dragging||Array.isArray(e)&&Array.isArray(a)&&e.every(((e,t)=>e===a[t]))&&t.firstValue===e[0]&&t.secondValue===e[1]||r()}),{deep:!0}),u((()=>[e.min,e.max]),(()=>{r()}))},oe=(e,t,a)=>{const l=d(null);return T((async()=>{let n;e.range?(Array.isArray(e.modelValue)?(t.firstValue=Math.max(e.min,e.modelValue[0]),t.secondValue=Math.min(e.max,e.modelValue[1])):(t.firstValue=e.min,t.secondValue=e.max),t.oldValue=[t.firstValue,t.secondValue],n=`${t.firstValue}-${t.secondValue}`):("number"!=typeof e.modelValue||Number.isNaN(e.modelValue)?t.firstValue=e.min:t.firstValue=Math.min(e.max,Math.max(e.min,e.modelValue)),t.oldValue=t.firstValue,n=t.firstValue),l.value.setAttribute("aria-valuetext",n),l.value.setAttribute("aria-label",e.label?e.label:`slider between ${e.min} and ${e.max}`),Q(window,"resize",a),await c(),a()})),A((()=>{J(window,"resize",a)})),{sliderWrapper:l}},ie=["aria-valuemin","aria-valuemax","aria-orientation","aria-disabled"],se={key:1};var re=b(le,[["render",function(e,t,a,l,n,o){const i=h("slider-button"),s=h("slider-marker"),r=h("el-input-number");return V(),w("div",{ref:"sliderWrapper",class:D(e.sliderKls),role:"slider","aria-valuemin":e.min,"aria-valuemax":e.max,"aria-orientation":e.vertical?"vertical":"horizontal","aria-disabled":e.sliderDisabled},[k("div",{ref:"slider",class:D([e.ns.e("runway"),{"show-input":e.showInput&&!e.range},e.ns.is("disabled",e.sliderDisabled)]),style:C(e.runwayStyle),onClick:t[0]||(t[0]=(...t)=>e.onSliderClick&&e.onSliderClick(...t))},[k("div",{class:D(e.ns.e("bar")),style:C(e.barStyle)},null,6),S(i,{ref:"firstButton","model-value":e.firstValue,vertical:e.vertical,"tooltip-class":e.tooltipClass,"onUpdate:modelValue":e.setFirstValue},null,8,["model-value","vertical","tooltip-class","onUpdate:modelValue"]),e.range?(V(),O(i,{key:0,ref:"secondButton","model-value":e.secondValue,vertical:e.vertical,"tooltip-class":e.tooltipClass,"onUpdate:modelValue":e.setSecondValue},null,8,["model-value","vertical","tooltip-class","onUpdate:modelValue"])):R("v-if",!0),e.showStops?(V(),w("div",se,[(V(!0),w(U,null,W(e.stops,((t,a)=>(V(),w("div",{key:a,class:D(e.ns.e("stop")),style:C(e.getStopStyle(t))},null,6)))),128))])):R("v-if",!0),e.markList.length>0?(V(),w(U,{key:2},[k("div",null,[(V(!0),w(U,null,W(e.markList,((t,a)=>(V(),w("div",{key:a,style:C(e.getStopStyle(t.position)),class:D([e.ns.e("stop"),e.ns.e("marks-stop")])},null,6)))),128))]),k("div",{class:D(e.ns.e("marks"))},[(V(!0),w(U,null,W(e.markList,((t,a)=>(V(),O(s,{key:a,mark:t.mark,style:C(e.getStopStyle(t.position))},null,8,["mark","style"])))),128))],2)],64)):R("v-if",!0)],6),e.showInput&&!e.range?(V(),O(r,{key:0,ref:"input","model-value":e.firstValue,class:D(e.ns.e("input")),step:e.step,disabled:e.sliderDisabled,controls:e.showInputControls,min:e.min,max:e.max,debounce:e.debounce,size:e.sliderInputSize,"onUpdate:modelValue":e.setFirstValue,onChange:e.emitChange},null,8,["model-value","class","step","disabled","controls","min","max","debounce","size","onUpdate:modelValue","onChange"])):R("v-if",!0)],10,ie)}],["__file","/home/runner/work/element-plus/element-plus/packages/components/slider/src/index.vue"]]);re.install=e=>{e.component(re.name,re)};const ue=re;const de=d(null),me={name:"dSlider",components:{ElSlider:ue},props:{modelValue:{required:!0},title:String,unit:{default:"px"},async:{type:Boolean,default:!1},value:[String,Number]},setup:(e,t)=>({handleInput:a=>{t.emit("update:modelValue",a),e.async&&_("baseConfig")},sliderRef:de})},pe={class:"d-flex-between d-slider setting-li"},ce={key:0,class:"d-slider-title"},ve={class:"d-slider-value"};var ge=$(me,[["render",function(e,t,a,l,n,o){const i=h("el-slider");return V(),w("div",pe,[a.title?(V(),w("span",ce,B(a.title),1)):R("",!0),S(i,q({"show-tooltip":!1,class:"d-cell",ref:"sliderRef"},e.$attrs,{size:"small","data-content":"12","model-value":a.modelValue,"onUpdate:modelValue":l.handleInput}),null,16,["model-value","onUpdate:modelValue"]),k("span",ve,B(~~a.value||a.modelValue)+B(a.unit),1)])}]]);export{ge as D};
